@model JiraFinalApp201.ViewModels.TaskViewModel

<div class="card mb-2 task-card view-task-details" data-task-id="@Model.Id" draggable="true">
    <div class="card-body p-2">
        <!-- Task Title -->
        <h6 class="card-title mb-1 fw-bold">@Model.Title</h6>

        <!-- Task Identifier -->
        <div class="d-flex align-items-center mb-2">
            <span class="badge bg-light text-dark border">@Model.CONId</span>

            <!-- Priority Indicator (small dot) -->
            <span class="ms-2 badge rounded-pill @(Model.Priority == JiraFinalApp201.Models.Tasks.Taskitems.Priority.High ? "bg-danger" :
                                                 Model.Priority == JiraFinalApp201.Models.Tasks.Taskitems.Priority.Medium ? "bg-warning" :
                                                 "bg-success")" style="width: 8px; height: 8px; padding: 0;"></span>
        </div>

        @if (Model.StoryPoints.HasValue)
        {
            <div class="mb-1">
                <span class="badge bg-info text-white" title="Story Points">
                    <i class="bi bi-graph-up-arrow me-1"></i> @Model.StoryPoints
                </span>
            </div>
        }

        <!-- Assignee Info -->
        <div class="d-flex justify-content-between align-items-center">
            <small class="text-muted">@Model.WorkType</small>
            <div class="d-flex align-items-center">
                @if (!string.IsNullOrEmpty(Model.AssigneeName))
                {
                    <div class="avatar bg-primary text-white me-1" style="width: 24px; height: 24px; font-size: 12px;">
                        @Model.AssigneeName.Substring(0, 1).ToUpper()
                    </div>
                    <small>@Model.AssigneeName</small>
                }
                else
                {
                    <small class="text-muted">Unassigned</small>
                }
            </div>
        </div>
    </div>
</div>